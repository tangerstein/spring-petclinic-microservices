!function(){function a(a){BOOMR.debug(a,"Continuity")}function b(a){var b=window.UserTimingCompression||BOOMR.window.UserTimingCompression;return b?b.jsUrl(a):window.JSON?JSON.stringify(a):""}function c(a,b,c,d,e){var f,g,h,l,m,n="",o=0;if(!c||!BOOMR.utils.Compression)return"";if(0===c.length)return"";if(b){void 0===c[d]&&(c[d]=0);for(f=d+1;f<=e;f++)void 0===c[f]&&(c[f]=c[f-1])}for(f=d;f<=e;f++){o="number"!=typeof c[f]||isNaN(c[f])?0:c[f];a===i?h=o<=63?r.charAt(o):s+o.toString(36)+s:a===j?h=o.toString(36):a===k&&(h=o<99?o<=9?"0"+Math.max(o,0):o:"__");if(f+3<=e&&(c[f+1]===o||0===o&&void 0===c[f+1])&&(c[f+2]===o||0===o&&void 0===c[f+2])&&(c[f+3]===o||0===o&&void 0===c[f+3])){g=1;for(;f<e&&(c[f+1]===o||0===o&&void 0===c[f+1]);){g++;f++}l="*"+g.toString(36)+"*"+h}else l=h;if(0!==o||f!==e){a===j&&m&&(n+=",");m=!0;n+=l}}return m?a.toString()+n:""}function d(a,b){var c,d,f,g,h,l,m=[],n=b||0;if(!a||0===a.length)return[];l=parseInt(a.charAt(0),10);a=a.substring(1);g=1;for(c=0;c<a.length;c++)if("*"!==a.charAt(c)){if(a.charAt(c)===s){c++;f=a.indexOf(s,c);h=parseInt(a.substring(c,f),36);c=f}else if(l===i)h=e(a.charAt(c));else if(l===j){f=a.indexOf(",",c);if(-1!==f){h=parseInt(a.substring(c,f),36);c=f}else{h=parseInt(a.substring(c),36);c=a.length}}else if(l===k){h="__"===a.substr(c,2)?100:parseInt(a.substr(c,2),10);c++}m[n]=h;for(d=1;d<g;d++){n++;m[n]=h}n++;g=1}else{c++;f=a.indexOf("*",c);g=parseInt(a.substring(c,f),36);c=f}return m}function e(a){if(!a||!a.charCodeAt)return 0;var b=a.charCodeAt(0);return b>=48&&b<=57?b-48:b>=97&&b<=122?b-97+10:b>=65&&b<=90?b-65+36:95===b?62:45===b?63:0}function f(a){var b,c,d,e,f,g=[];e=a.split("|");for(b=0;b<e.length;b++){d=e[b].split(",");f={type:parseInt(d[0].charAt(0),10),time:parseInt(d[0].substring(1),36)};for(c=1;c<d.length;c++)f[d[c].charAt(0)]=d[c].substring(1);g.push(f)}return g}BOOMR=window.BOOMR||{};BOOMR.plugins=BOOMR.plugins||{};if(!BOOMR.plugins.Continuity){var g=100,h=500,i=0,j=1,k=2,l=0,m=1,n=2,o=3,p=4,q=5,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",s=".",t=BOOMR.getPerformance(),u={},v=t&&t.timing&&t.timing.navigationStart?t.timing.navigationStart:BOOMR.now(),w=function(a){function b(a,b,c){z[a]||(z[a]=[]);A[a]={compressMode:b||i,backfillLast:c}}function d(){return Math.floor((BOOMR.now()-a)/g)}function e(a,b,c){void 0===c&&(c=d());z[a]&&(z[a][c]=b)}function f(a,b,c){void 0===c&&(c=d());void 0===b&&(b=1);if(z[a]){z[a][c]||(z[a][c]=0);z[a][c]+=b}}function h(a,b,c){void 0===b&&(b=d());B.push({type:a,time:b,val:c});B.length>impl.logMaxEntries&&Array.prototype.splice.call(B,0,B.length-impl.logMaxEntries)}function j(b,c){var d,e=0,f=0,h=1/0,i=0,j=Math.floor((c-a)/g);if(!z[b])return 0;for(var k in z[b]){k=parseInt(k,10);if(k>=j&&z[b].hasOwnProperty(k)){d=z[b][k];e++;f+=d;h=Math.min(h,d);i=Math.max(i,d)}}return{total:f,count:e,min:h,max:i}}function k(a){var b,c,d,e,f,g,h=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!t||"function"!=typeof t.getEntriesByType)return 0;b=a+", "+a+" * img, "+a+" * image";c=BOOMR.window.document.querySelectorAll(b);if(c&&c.length)for(d=0;d<c.length;d++){f=c[d].currentSrc||c[d].src||"function"==typeof c[d].getAttribute&&c[d].getAttribute("xlink:href");if(f){g=t.getEntriesByName(f);if(g&&g.length)for(e=0;e<g.length;e++)h=Math.max(h,g[e].responseEnd)}}return h?Math.floor(h+v):0}function l(){var a=0;if(impl.ttiWaitForFrameworkReady){if(!impl.frameworkReady)return;a=impl.frameworkReady}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&t&&t.timeOrigin){var b=BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint");b||(b=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"));b&&(a=Math.max(a,Math.round(b+t.timeOrigin)))}else if(t&&t.timing&&t.timing.msFirstPaint)a=Math.max(a,t.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){var c=BOOMR.window.chrome.loadTimes();c&&c.firstPaintTime&&(a=Math.max(a,1e3*c.firstPaintTime))}t&&t.timing&&t.timing.domContentLoadedEventEnd&&(a=Math.max(a,t.timing.domContentLoadedEventEnd));if(impl.ttiWaitForHeroImages){E=k(impl.ttiWaitForHeroImages);E&&(a=Math.max(a,E))}return a}function m(){for(var a="",b=0;b<B.length;b++){var c=B[b];0!==b&&(a+="|");a+=c.type;a+=Math.round(c.time-v).toString(36);for(var d in c.val)if(c.val.hasOwnProperty(d)){a+=","+d;"number"==typeof c.val[d]?a+=c.val[d].toString(36):a+=c.val[d]}}""!==a&&impl.addToBeacon("c.l",a)}function n(b,e){return c(A[b].compressMode,A[b].backfillLast,z[b],0!==e?Math.floor((e-a)/g):0,d())}function o(a){var b,c;for(b in z)if(z.hasOwnProperty(b)){c=n(b,a);""!==c&&impl.addToBeacon("c.t."+b,c)}}function p(b){var c=d(),e=0,f=0;impl.sendLog&&void 0!==b&&m();impl.sendTimeline&&void 0!==b&&o(b);if(!C){if(!D){D=l();if(!D)return}impl.addToBeacon("c.tti.vr",u.timeToVisuallyReady());impl.addToBeacon("c.tti.fr",u.timeToFrameworkReady());impl.addToBeacon("c.tti.hi",u.timeToHeroImagesReady());if(z.longtask||z.fps||z.busy){var h=Math.floor((D-a)/g);for(e=h;e<=c;e++)if(z.longtask&&z.longtask[e])f=0;else if(z.fps&&(!z.fps[e]||z.fps[e]<x))f=0;else if(z.busy&&z.busy[e]>y)f=0;else if(z.interdly&&z.interdly[e])f=0;else{f++;if(f>=s){C=a+(e-s)*g;C=Math.max(C,D);break}}C>0&&impl.addToBeacon("c.tti",u.timeToInteractive())}}}function q(){z={};B=[]}function r(){for(var a in z)z.hasOwnProperty(a)&&(z[a]=[]);B=[]}var s=5,w=20,x=w/(1e3/g),y=50,z={},A={},B=[],C=0,D=0,E=0;BOOMR.fpsLog&&BOOMR.fpsLog.length&&(a=BOOMR.fpsLog[0]+v);u.timeToInteractive=function(){if(C)return C-v};u.timeToVisuallyReady=function(){if(D)return D-v};u.timeToHeroImagesReady=function(){if(impl.ttiWaitForHeroImages&&E)return E-v};u.timeToFrameworkReady=function(){if(impl.ttiWaitForFrameworkReady&&impl.frameworkReady)return impl.frameworkReady-v};u.log=function(){return B};return{register:b,set:e,log:h,increment:f,getTimeBucket:d,getStats:j,analyze:p,stop:q,onBeacon:r}},x=function(a,c){function d(a){var b,d;if(p){b=a.getEntries();Array.prototype.push.apply(o,b);for(d=0;d<b.length;d++)q+=b[d].duration;c.increment("longtask",b.length)}}function e(){return o}function f(){o=[];q=0}function g(a){var c,d,e,f,g,h=[],i=[];if(0!==o.length){for(c=0;c<o.length;c++){e=o[c];f={s:Math.round(e.startTime).toString(36),d:Math.round(e.duration).toString(36),n:k[e.name]?k[e.name]:0};i=[];for(d=0;d<e.attribution.length;d++){g=e.attribution[d];if("script"!==g.name||"iframe"!==g.containerType||g.containerName||g.containerId||g.containerSrc){var j=g.containerName?g.containerName:void 0,n=g.containerId?g.containerId:void 0;j===n&&(j=void 0);var p=void 0===n?g.containerSrc:void 0;i.push({a:l[g.name]?l[g.name]:0,t:m[g.containerType]?m[g.containerType]:0,n:j,i:n,s:p})}}i.length>0&&(f.a=i);h.push(f)}impl.addToBeacon("c.lt.n",u.longTasksCount(),!0);impl.addToBeacon("c.lt.tt",u.longTasksTime());impl.addToBeacon("c.lt",b(h))}}function h(){p=!1;n.disconnect();f()}function j(){f()}if(a.PerformanceObserver&&a.PerformanceLongTaskTiming){var k={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},l={unknown:0,script:1,layout:2},m={unknown:0,iframe:1,embed:2,object:3},n=new a.PerformanceObserver(d);try{n.observe({entryTypes:["longtask"]})}catch(r){return}c.register("longtask",i);var o=[],p=!0,q=0;u.longTasksTime=function(){return q};u.longTasksCount=function(){return o.length};return{getTasks:e,clearTasks:f,analyze:g,stop:h,onBeacon:j}}},y=function(a,b){function c(){var a=BOOMR.now(),b=a-n;n=a;if(b>2*h+i){var c=Math.floor((b-h)/h);o+=c;p+=c;b-=c*h}o++;b>h+i&&p++}function d(){var a=b.getTimeBucket(),c=a,d=0;if(0!==o){for(;o>l+1&&d<=m;){b.set("busy",100,--c);o-=l;p=Math.max(p-l,0);q+=l;r+=l;d++}q+=o;r+=p;b.set("busy",Math.round(p/o*100),a);o=0;p=0}}function e(a){impl.addToBeacon("c.b",u.pageBusy())}function f(){s=!1;if(t){clearInterval(t);t=!1}if(v){clearInterval(v);v=!1}}function g(){q=0;r=0}b.register("busy",k);var h=32,i=4,j=100,l=Math.floor(j/h),m=100,n=BOOMR.now(),o=0,p=0,q=0,r=0,s=!0,t=!1,v=!1;u.pageBusy=function(){return 0===q?0:Math.round(r/q*100)};t=setInterval(c,h);v=setInterval(d,j);return{analyze:e,stop:f,onBeacon:g}},z=function(a,b){function c(d){if(n){d-j>=k&&m++;j=d;l++;b.increment("fps");a.requestAnimationFrame(c)}}function d(a){impl.addToBeacon("c.f",u.fps());impl.addToBeacon("c.f.d",u.fpsDuration());impl.addToBeacon("c.f.m",u.fpsMinimum());impl.addToBeacon("c.f.l",u.fpsLongFrames());impl.addToBeacon("c.f.s",u.fpsStart())}function e(){n=!1;h=0}function f(){n&&(h=BOOMR.now());l=0;m=0}b.register("fps",i);var h,j,k=50,l=0,m=0,n=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){j=h=BOOMR.fpsLog[0]+v;for(var o=0;o<BOOMR.fpsLog.length;o++){var p=v+BOOMR.fpsLog[o];b.increment("fps",1,Math.floor((p-h)/g));p-j>=k&&m++;j=p}l=BOOMR.fpsLog.length;delete BOOMR.fpsLog}else h=BOOMR.now();a.requestAnimationFrame(c);u.fps=function(){var a=u.fpsDuration();if(a)return Math.floor(l/(a/1e3))};u.fpsDuration=function(){if(h)return BOOMR.now()-h};u.fpsMinimum=function(){if(u.fpsDuration()){var a=b.getStats("fps",h).min;return a!==1/0?a:void 0}};u.fpsLongFrames=function(){return m};u.fpsStart=function(){return h?h.toString(36):0};return{analyze:d,stop:e,onBeacon:f}},A=function(a,b,c){function d(a){var d=BOOMR.now();s++;d-w>m&&v++;w=d;var e=BOOMR.utils.scroll().y,f=Math.abs(o-e);t+=f;b.increment("scroll",f);if(0===p||Math.abs(p-e)>n){b.log(l,d,{y:e});p=e}c.interact("scroll",d,a);q+=Math.round(f/A*100);r+=Math.round(f/A*100);o=e}function e(){var a=Math.min(q,100);0!==a&&b.set("scrollpct",a);q=0}function f(a){impl.addToBeacon("c.s",u.scrollCount());impl.addToBeacon("c.s.p",u.scrollPct());impl.addToBeacon("c.s.y",u.scrollPixels());impl.addToBeacon("c.s.d",u.scrollDistinct())}function h(){if(x){clearInterval(x);x=!1}BOOMR.utils.removeListener(a,"scroll",d)}function j(){r=0;s=0;t=0;v=0}if(a&&a.document&&a.document.body&&a.document.documentElement){var m=2e3,n=20,o=0,p=0,q=0,r=0,s=0,t=0,v=0,w=0,x=!1,y=a.document.body,z=a.document.documentElement;b.register("scroll",i);b.register("scrollpct",k);var A=Math.max(y.scrollHeight,y.offsetHeight,z.clientHeight,z.scrollHeight,z.offsetHeight)-BOOMR.utils.windowHeight();u.scrollPct=function(){return r};u.scrollCount=function(){return s};u.scrollDistinct=function(){return v};u.scrollPixels=function(){return t};BOOMR.utils.addListener(a,"scroll",d,!0);x=setInterval(e,g);return{analyze:f,stop:h,onBeacon:j}}},B=function(a,b,c){function d(a){var d=BOOMR.now(),e=a.clientX,f=a.clientY;k++;var g=Math.round(Math.sqrt(Math.pow(p-f,2)+Math.pow(o-e,2)));if(q===a.target||g<=h){l++;if(l+1>=j){n++;BOOMR.fireEvent("rage_click",a)}}else l=0;o=e;p=f;q=a.target;b.increment("click");b.log(m,d,{x:e,y:f});c.interact("click",d,a)}function e(a){impl.addToBeacon("c.c",u.clicksCount());impl.addToBeacon("c.c.r",u.clicksRage())}function f(){BOOMR.utils.removeListener(a.document,"click",d)}function g(){k=0;l=0;n=0}b.register("click",i);var h=10,j=3,k=0,l=0,n=0,o=0,p=0,q=null;u.clicksCount=function(){return k};u.clicksRage=function(){return n};BOOMR.utils.addListener(a.document,"click",d,!0);return{analyze:e,stop:f,onBeacon:g}},C=function(a,b,c){function d(a){var d=BOOMR.now();h++;27===a.keyCode&&j++;b.increment("key");b.log(o,d);c.interact("key",d,a)}function e(a){impl.addToBeacon("c.k",u.keyCount());impl.addToBeacon("c.k.e",u.keyEscapes())}function f(){BOOMR.utils.removeListener(a.document,"keydown",d)}function g(){h=0;j=0}b.register("key",i);var h=0,j=0;u.keyCount=function(){return h};u.keyEscapes=function(){return j};BOOMR.utils.addListener(a.document,"keydown",d,!0);return{analyze:e,stop:f,onBeacon:g}},D=function(a,b,c){function d(a){var c=(BOOMR.now(),a.clientX),d=a.clientY,e=Math.round(Math.sqrt(Math.pow(q-d,2)+Math.pow(p-c,2))),f=Math.round(e/z*100);t+=f;v+=f;w+=e;p=c;q=d;b.increment("mouse",e)}function e(){var a=Math.min(t,100);0!==a&&b.set("mousepct",a);t=0}function f(){if(r!==p||s!==q){if(Math.round(Math.sqrt(Math.pow(s-q,2)+Math.pow(r-p,2)))>=m){b.log(n,BOOMR.now(),{x:p,y:q});r=p;s=q}}}function h(a){impl.addToBeacon("c.m.p",u.mousePct());impl.addToBeacon("c.m.n",u.mousePixels())}function j(){if(x){clearInterval(x);x=!1}if(y){clearInterval(y);y=!1}BOOMR.utils.removeListener(a.document,"mousemove",d)}function l(){v=0;w=0}b.register("mouse",i);b.register("mousepct",k);var m=10,o=250,p=0,q=0,r=0,s=0,t=0,v=0,w=0,x=!1,y=!1,z=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));u.mousePct=function(){return v};u.mousePixels=function(){return w};x=setInterval(e,g);y=setInterval(f,o);BOOMR.utils.addListener(a.document,"mousemove",d,!0);return{analyze:h,stop:j,onBeacon:l}},E=function(b,c,d){function e(b,d,e){d=d||BOOMR.now();if(x){r++;p||(p=d);var f=0;if(e&&e.timeStamp){f=e.timeStamp>14e11?d-e.timeStamp:d-v-e.timeStamp;s+=f;null===q&&(q=Math.round(f));if(f>m){c.increment("interdly");t++;w+=f}}c.increment("inter");if(!C&&impl.afterOnloadMonitoring){z=BOOMR.now();if(!y){a("Interaction detected, sending a beacon after "+n+" ms");y=z;B=setTimeout(h,o)}if(A){a("Clearing previous interaction timeout");clearTimeout(A);A=!1}A=setTimeout(h,n)}}}function f(){C=!0;g()}function g(){if(A){clearTimeout(A);A=!1}if(B){clearTimeout(B);B=!1}}function h(){a("Sending interaction beacon");g();BOOMR.fireEvent("interaction");impl.addToBeacon("rt.tstart",y);impl.addToBeacon("rt.end",z);impl.addToBeacon("rt.start","manual");impl.addToBeacon("http.initiator","interaction");BOOMR.sendBeacon()}function j(a){impl.addToBeacon("c.ttfi",u.timeToFirstInteraction());impl.addToBeacon("c.i.dc",u.interactionDelayed());impl.addToBeacon("c.i.dt",u.interactionDelayedTime());impl.addToBeacon("c.i.a",u.interactionAvgDelay());null!==q&&impl.addToBeacon("c.fid",u.firstInputDelay(),!0)}function k(){x=!1}function l(){w=0;t=0;r=0;s=0;y=0;z=0;C=!1;g()}c.register("inter",i);c.register("interdly",i);var m=50,n=d,o=3e4,p=0,q=null,r=0,s=0,t=0,w=0,x=!0,y=0,z=0,A=!1,B=!1,C=!1;u.interactionDelayed=function(){return t};u.interactionDelayedTime=function(){return Math.round(w)};u.interactionAvgDelay=function(){if(r>0)return Math.round(s/r)};u.timeToFirstInteraction=function(){if(p)return p-v};u.firstInputDelay=function(){if(null!==q)return q};BOOMR.subscribe("spa_init",f,null,impl);return{interact:e,analyze:j,stop:k,onBeacon:l}},F=function(a,b,c){function d(){f=!1}b.register("vis",i);var e={visible:0,hidden:1,prerender:2,unloaded:3},f=!0;BOOMR.subscribe("visibility_changed",function(a){var d=BOOMR.now();if(f){b.increment("vis");b.log(p,d,{s:e[BOOMR.visibilityState()]});c.interact("vis",d,a)}});return{stop:d}},G=function(a,b,c){function d(a){var d=BOOMR.now(),e=window.orientation;if(f){b.increment("orn");var g=window.screen&&(screen.msOrientation||screen.orientation||screen.mozOrientation||{});g&&"number"==typeof g.angle&&(e=screen.orientation.angle);"number"==typeof e&&b.log(q,d,{a:e});c.interact("orn",d,a)}}function e(){f=!1;BOOMR.utils.removeListener(a,"orientationchange",d)}b.register("orn",i);var f=!0;BOOMR.utils.addListener(a,"orientationchange",d,!0);return{stop:e}},H=function(a,b){function c(){var a=t&&t.memory&&t.memory.usedJSHeapSize;a&&b.set("mem",a);q=r.length;b.set("domsz",l.documentElement.innerHTML.length);b.set("domln",q);if(p>0){var c=Math.min(Math.round(p/q*100),100);b.set("mut",c);p=0}}function d(){m&&o&&b.set("bat",o.level)}function e(a){a.forEach(function(a){if("childList"===a.type)for(var b=0;b<a.addedNodes.length;b++){var c=a.addedNodes[b];p++;p+=c.getElementsByTagName?c.getElementsByTagName("*").length:0}})}function f(){m=!1;if(n){clearInterval(n);n=!1}g&&g.disconnect();o&&o.onlevelchange&&(o.onlevelchange=null);r=null}b.register("mem",j,!0);b.register("bat",k,!0);b.register("domsz",j,!0);b.register("domln",j,!0);b.register("mut",i);var g,h=1e3,l=a.document,m=!0,n=!1,o=null,p=0,q=0,r=l.getElementsByTagName("*");n=setInterval(c,h);a.navigator&&"function"==typeof a.navigator.getBattery&&a.navigator.getBattery().then(function(a){o=a;o.onlevelchange&&(o.onlevelchange=d)});if(BOOMR.utils.isMutationObserverSupported()){g=new a.MutationObserver(e);g.observe(l,{childList:!0,subtree:!0})}return{stop:f}};impl={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,statsMonitor:null,addedVars:[],monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,onBeforeBeacon:function(){impl.runAllAnalyzers()},runAllAnalyzers:function(){var a,b;if(!impl.hasAddedDataToBeacon){for(a=0;a<impl.monitors.length;a++){b=impl[impl.monitors[a]];b&&"function"==typeof b.analyze&&b.analyze(impl.timeOfLastBeacon)}impl.addToBeacon("c.lb",impl.timeOfLastBeacon?impl.timeOfLastBeacon.toString(36):0);impl.timeOfLastBeacon=BOOMR.now();impl.hasAddedDataToBeacon=!0}},onBeacon:function(){var a;if(impl.addedVars&&impl.addedVars.length>0){BOOMR.removeVar(impl.addedVars);impl.addedVars=[]}for(a=0;a<impl.monitors.length;a++){var b=impl[impl.monitors[a]];if(b){impl.afterOnload||"function"==typeof b.stop&&b.stop();"function"==typeof b.onBeacon&&b.onBeacon()}}impl.hasAddedDataToBeacon=!1},onXhrLoad:function(a){a&&BOOMR.utils.inArray(a.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(impl.isSpa=!0);a&&"spa_hard"===a.initiator&&impl.onPageReady()},onPageReady:function(){impl.firedPageReady=!0;if(impl.afterOnload&&impl.monitorInteractions){impl.afterOnloadMonitoring=!0;impl.isSpa||"number"!=typeof impl.afterOnloadMaxLength||setTimeout(function(){impl.afterOnloadMonitoring=!1},impl.afterOnloadMaxLength)}if(impl.waitAfterOnload){var a=BOOMR.now();setTimeout(function b(){if(BOOMR.now()-a>impl.waitAfterOnload){impl.complete=!0;BOOMR.sendBeacon()}else{impl.timeline.analyze();if(u.timeToInteractive()){impl.complete=!0;BOOMR.sendBeacon()}else setTimeout(b,h)}},h)}else impl.complete=!0},addToBeacon:function(a,b,c){if(0!==b&&void 0!==b||c){BOOMR.addVar(a,b);impl.addedVars.push(a)}else BOOMR.removeVar(a)}};BOOMR.plugins.Continuity={init:function(a){BOOMR.utils.pluginConfig(impl,a,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","sendLog","logMaxEntries","sendTimeline"]);if(impl.initialized)return this;impl.initialized=!0;impl.timeline=new w(BOOMR.now());if(BOOMR.window){if(impl.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming){impl.longTaskMonitor=new x(BOOMR.window,impl.timeline);impl.ttiMethod="lt"}if(impl.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame){impl.frameRateMonitor=new z(BOOMR.window,impl.timeline);impl.ttiMethod||(impl.ttiMethod="raf")}if(impl.monitorPageBusy&&(!BOOMR.window.PerformanceObserver||!BOOMR.window.PerformanceLongTaskTiming||!impl.monitorLongTasks)){impl.pageBusyMonitor=new y(BOOMR.window,impl.timeline);impl.ttiMethod||(impl.ttiMethod="b")}if(impl.monitorInteractions){impl.interactionMonitor=new E(BOOMR.window,impl.timeline,impl.afterOnloadMinWait);impl.scrollMonitor=new A(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.keyMonitor=new C(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.clickMonitor=new B(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.mouseMonitor=new D(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.visibilityMonitor=new F(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.orientationMonitor=new G(BOOMR.window,impl.timeline,impl.interactionMonitor)}impl.monitorStats&&(impl.statsMonitor=new H(BOOMR.window,impl.timeline,impl.interactionMonitor))}BOOMR.addVar("c.e",v.toString(36));BOOMR.addVar("c.tti.m",impl.ttiMethod);BOOMR.subscribe("before_beacon",impl.onBeforeBeacon,null,impl);BOOMR.subscribe("beacon",impl.onBeacon,null,impl);BOOMR.subscribe("page_ready",impl.onPageReady,null,impl);BOOMR.subscribe("xhr_load",impl.onXhrLoad,null,impl);return this},is_complete:function(a){return impl.complete||a&&"error"===a["http.initiator"]},frameworkReady:function(){impl.frameworkReady=BOOMR.now()},metrics:u,compressBucketLog:c,decompressBucketLog:d,decompressBucketLogNumber:e,decompressLog:f}}}();
//# sourceMappingURL=continuity.min.js.map